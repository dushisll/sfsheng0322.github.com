<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>Java语言下单向链表的操作 | 孙福生博客</title>
	<meta name="description" content="  单向链表增删改查的操作  反转单向链表  判断单向链表是否有环">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-Frame-Options" content="sameorigin">

	<!-- CSS -->
	<link rel="stylesheet" href="/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="http://example.com/2015/06/14/java-single-linked-list.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="孙福生博客" href="http://example.com/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>
	

	<!-- Google Analytics -->
	
</head>

  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/img/avatar.png" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">博客主页</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled -->
			


<li>
	<a href="https://github.com/sfsheng0322" title="GitHub: sfsheng0322">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>



<li>
	<a href="mailto:sfsheng0322@126.com" title="Email: sfsheng0322@126.com">
		<i class="fa fa-fw fa-envelope"></i>
	</a>
</li>




































		</ul>
	</nav>
</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">Java语言下单向链表的操作</h1>
    <p class="meta">
    June 14, 2015
    
    </p>
  </header>
  <section class="post-content"><ul>
  <li>单向链表增删改查的操作</li>
  <li>反转单向链表</li>
  <li>判断单向链表是否有环</li>
</ul>

<p>写一个大家都比较熟悉的数据结构：单向链表。
虽然java的API里面已经提供了单向链表的类，大家可以直接拿来用，但是通过自己的编写也更能够让我们了解其中实现的过程，而且我们还可以写一些比较个性化的方法作为属于自己的数据结构。这里主要是介绍一些常用结构里面都会用到的方法，以及链表具体是如何操作的。</p>

<p>单向链表（单链表）是链表的一种，其特点是链表的链接方向是单向的，对链表的访问要通过顺序从头部开始读取，链表是使用指针进行构造的列表，又称为结点列表。因为链表是由一个个结点组装起来的，其中每个结点都有指针成员变量指列表中的下一个结点，由head指针指向第一个成为表头的结点而终止于最后一个指向nuLL的指针。</p>

<h4 id="person">首先定义一个简单的Person类</h4>
<p>里面仅仅包含两个元素姓名和年龄</p>

<hr />
<pre><code>public class Person {

    private String name;
    private int age;
	
    //构造函数
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Person [name=" + name + ", age=" + age + "]";
    }
	
}
</code></pre>

<h4 id="personnode">接下来构造PersonNode节点</h4>
<p>PersonNode节点拥有一个Person对象和PersonNode节点的指针</p>

<hr />
<pre><code>public class PersonNode {

    private Person person;
    private PersonNode nextNode;
	
    public PersonNode(Person person, PersonNode nextNode) {
        this.person = person;
        this.nextNode = nextNode;
    }

    public Person getPerson() {
        return person;
    }

    public void setPerson(Person person) {
        this.person = person;
    }

    public PersonNode getNextNode() {
        return nextNode;
    }

    public void setNextNode(PersonNode nextNode) {
        this.nextNode = nextNode;
    }

}
</code></pre>

<h4 id="section">增加节点</h4>
<p>新添加的节点指向头结点</p>

<hr />
<pre><code>public void addNode(Person p) {
    if (isEmpty()) {
        head = new PersonNode(p, null);
    } else {
        head = new PersonNode(p, head);
    }
    size++;
}
</code></pre>

<h4 id="section-1">删除节点</h4>

<hr />
<pre><code>public void deleteNode(String personName) {
	//情况一：链表节点数为0
	if (isEmpty()) {
		return ;
	}
	//情况二：链表中无此节点
	if (!contains(personName)) {
		return ;
	}
	//情况三：链表中只有一个节点且匹配
	if (size == 1) {
		head = null;
		size = 0;
		return ;
	}
	//情况四：删除的是第一个链表节点
	int index = 0;//被删除节点的索引
	for (PersonNode pn = head; pn != null; pn = pn.getNextNode()) {
		if (pn.getPerson().getName().equals(personName)) {
			break;
		} else {
			index++;
		}
	}
	if (index == 0) {
		head = new PersonNode(head.getNextNode().getPerson(), head.getNextNode().getNextNode());
		size--;
		return ;
	}
	//情况五：删除的不是第一个链表节点
	 int preIndex = 0;//被删除节点的前一个节点的索引
	 for (PersonNode pn = head; pn != null; pn = pn.getNextNode()) {
		 if (preIndex == index - 1) {
			 if (index == size - 1) {//删除的节点是最后一个节点
				 pn.setNextNode(null);
			 } else {
				 pn.setNextNode(pn.getNextNode().getNextNode());
			 }
			 size--;
			 return ;
		 }
		 preIndex++;
	 }
}
</code></pre>

<h4 id="section-2">修改人名</h4>

<hr />
<pre><code>public void modifyPersonName(String oldName, String newName) {
	if (newName == null || oldName == null) {
		return ;
	}
	Person p = searchPerson(oldName);
	if (p == null) {
		return ;
	}
	p.setName(newName);
}
</code></pre>

<h4 id="section-3">修改年龄</h4>

<hr />
<pre><code>public void modifyPersonAge(String personName, int age) {
	if (personName == null) {
		return ;
	}
	if (age &lt;= 0) {
		return ;
	}
	Person p = searchPerson(personName);
	if (p == null) {
		return ;
	}
	p.setAge(age);
}
</code></pre>

<h4 id="section-4">根据人名搜索这个人的节点</h4>

<hr />
<pre><code>public Person searchPerson(String personName) {
	for (PersonNode pn = head; pn != null; pn = pn.getNextNode()) {
		if (pn.getPerson().getName().equals(personName)) {
			return pn.getPerson();
		}
	}
	return null;
}
</code></pre>

<h4 id="section-5">根据人名搜索这个人的节点</h4>

<hr />
<pre><code>public PersonNode searchNode(String personName) {
	for (PersonNode pn = head; pn != null; pn = pn.getNextNode()) {
		if (pn.getPerson().getName().equals(personName)) {
			return pn;
		}
	}
	return null;
}
</code></pre>

<h4 id="section-6">链表中是否包含该名字的节点</h4>

<hr />
<pre><code>public boolean contains(String personName) {
	if (!isEmpty()) {
		for (PersonNode pn = head; pn != null; pn = pn.getNextNode()) {
			if (pn.getPerson().getName().equals(personName)) {
				return true;
			}
		}
	}
	return false;
}
</code></pre>

<h4 id="section-7">是否为空</h4>

<hr />
<pre><code>public boolean isEmpty() {
	return size == 0;
}
</code></pre>

<h4 id="section-8">打印所有节点</h4>

<hr />
<pre><code>public void printAllNode() {
	if (!isEmpty()) {
		for (PersonNode pn=head; pn != null; pn = pn.getNextNode()) {
			System.out.println(pn.getPerson().toString());
		}
	}
}
</code></pre>

<h4 id="section-9">链表反转</h4>

<hr />
<pre><code>public PersonNode reverse() {
	if (isEmpty()) {
		return null;
	}
	PersonNode pre = head;
	PersonNode cur = head.getNextNode();
	PersonNode next;
	while (cur != null) {
		next = cur.getNextNode();
		cur.setNextNode(pre);
		pre = cur;
		cur = next;
	}
	head.setNextNode(null);
	head = pre;
	return head;
}
</code></pre>

<h4 id="section-10">判断链表是否为环链表</h4>
<p>两个指针slow，fast都从头开始遍历单链表，slow每次向前走1步，fast每次向前走2步，如果fast碰到了null，说明环不存在；如果fast碰到本应在身后的slow说明环存在。</p>

<hr />
<pre><code>public boolean isLoop() {
	if (head == null || head.getNextNode() == null) {
		return false;
	}
	PersonNode slow = head;
	PersonNode fast = head;
	while (fast != null &amp;&amp; fast.getNextNode() != null) {
		slow = slow.getNextNode();
		fast = fast.getNextNode().getNextNode();
		if (slow == fast) {
			return true;
		}
	}
	return false;
}
</code></pre>

<p>详细内容请参考<a href="https://github.com/sfsheng0322/LinkedListProject">GitHub源码</a></p>

</section>
</article>

<!-- Post navigation -->


<!-- Disqus -->


    </div>
    <script src="/js/main.js"></script>


<footer class="site-footer">
	<p class="text">Powered by <a href="http://jekyllrb.com">Jekyll</a> with <a href="https://rohanchandra.github.io/project/type/">Type Theme</a>
</p>
</footer>


  </body>
</html>
